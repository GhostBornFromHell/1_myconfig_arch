setopt promptsubst
# Prompt symbols 
prompt_symbols+=(' ЁЯШН ')
prompt_symbols+=(' тЬЦтА┐тЬЦ ')
prompt_symbols+=(' ЁЯТЭ ')
prompt_symbols+=(' ЁЯй╡ ')
prompt_symbols+=(' ЁЯФе ')
prompt_symbols+=(' ЁЯРз ')
prompt_symbols+=(' ЁЯЦХ ')
prompt_symbols+=(' яМВ ')
prompt_symbols+=(' ЁЯС╜ ')
prompt_symbols+=(' ЁЯШП ')
prompt_symbols+=(' є░гн ')
prompt_symbols+=(' яМз  ')
prompt_symbols+=(' ЁЯМР ')
prompt_symbols+=(' ЁЯС┐ ')
prompt_symbols+=(' ЁЯМ╕ ')

# GIT PROMPT
[[ $prompt_git_want_i == true ]] && {}
git_symbols+=('ЁЦгВя╕О')
git_symbols+=('ЁЦдЭ')
# git_symbols+=('ЁЯМ▒')
git_symbols+=('юВа')
git_symbols+=('ЁЦже')
git_symbols+=('юЬе')

python_symbols+=('є░Ма ')
#python_symbols+=('ЁЯРН')
python_symbols+=('ю░Ц ')
python_symbols+=('є▒ФО ')
python_symbols+=('ЁЬ│║')

prompt_symbol_success='ЁЯЯв'
prompt_symbol_fail='ЁЯТй'

# prompt_symbol_fail='тЧЙ'
#prompt_symbol_fail='тЧЙ'


git_branch_prompt() {
  if git rev-parse --is-inside-work-tree >/dev/null 2>&1; then
    local branch=$(git branch --show-current 2>/dev/null)
    [[ -n $branch ]] && echo -n "$branch"
  fi
}

git_files_prompt() {
  if git rev-parse --is-inside-work-tree >/dev/null 2>&1; then
    local changes=$(git status -s -uno 2>/dev/null | wc -l)
    if (( changes > 0 )); then
        echo -n "$git_symbol $changes"
    else
        return 0
    fi
  fi
}

last_status_prompt() {
  local last=$?
  (( last != 0 )) && echo -n "$prompt_symbol_fail $last $prompt_symbol_fail"
}


# test
CMD_COUNT=0
command_count_prompt2() {
  echo -n "тМия╕П${CMD_COUNT}"
}


command_count_prompt() {
  echo -n "тМия╕П$((HISTCMD))"
}

ascii_art() {
  echo " (тБАсЧвтБА) ЁЯМ╕"
}



ascii_art=(
  "
  я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐я╝┐
уАА|уААWindowsуААуААуААуААуААуААуААуААуААуААуААуААуААуААуААуААуААуААуААуААуАА[я╝Н][хПг][├Ч]| |
уАА|я┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гуААя┐г|
уАА|уААWindows has detected You are a great person. уААуААуААуААуААуААуААуАА |
уАА|уААуАА Do you Agree?уААуААуААуААуААуАА уААуААуААуААуААуААуААуААуААуААуААуААуААуААуАА   |
уАА|уААуААуААуААя╝┐я╝┐я╝┐я╝┐я╝┐я╝┐уААуААуААуААя╝┐я╝┐я╝┐я╝┐я╝┐я╝┐уААуААуАА        я╝┐я╝┐я╝┐уААуАА|
уАА| уААуААуААя╜ЬуААуААYesуАА |  уААуАА  |уАА  YesуАА я╜Ь    уАА уАА   | Yes |уАА  |
уАА|уААуААуААуААя┐гя┐гя┐гя┐гя┐гя┐гуААуААуААуААя┐гя┐гя┐гя┐гя┐гя┐гуААуААуААуАА      я┐гя┐гя┐гуААуАА|
уААуААя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐гя┐г 
  "
  "   таАтаАтаАтаАтаАтбатаЦтаЛтаЙтаЙта│тб┤таТтаТтаТта▓тадтвдтгА
таАтаАтаАтаАтаАтаАтгатаКтаАтаАтб┤таЪтбйтаЯтаУтаТтбЦта▓тбДтаАтаАтаИтбЖ
таАтаАтаАтаАтвАтбЮтаБтватаТта╛тветгАтгЗтгЪтг╣тбдтбЯтаАтбЗтватаАтватаЗ
таАтаАтаАтаАтв╕тгДтгАтаАтбЗтаАтаАтаАтаАтаАтвАтбЬтаБтг╕тватаОтг░тгГ
таАтаАтаАта╕тбНтаАтаЙтаЙтаЫтажтгДтаАтвАтб┤тглта┤таЛтв╣тбПтб╝таБтаИтаЩтвжтбА
таАтаАтаАтгАтб╜тгДтаАтаАтаАтаАтаИтаЩта╗тгОтбБтаАтаАтг╕тб╛таАтаАтаАтаАтгАтб╣таВ
таАтвАтбЮтаБтаАтаИтвгтбАтаАтаАтаАтаАтаАтаАтаЙтаУта╢твЯтаАтвАтбдтаЦтаЛтаБ
таАтаАтаЙтаЩтаТтажтбАтаЩтажтгАтаАтаАтаАтаАтаАтаАтвАтг┤тб╖таЛ
таАтаАтаАтаАтаАтаАтаШтвжтгАтаИтаУтгжтгдтгдтгдтв╢тбЯтаБ
твдтгдтгдтбдтадтадтадтадтгМтбЙтаЙтаБтаАтаАтв╕тв╕таБтбатаЦтаТтаТтвТтгТтб╢тг╢тад
таАтаЙта▓тгНтаУтажтгДтаАтаАтаЩтгЖтаАтаАтаАтбЮтб╝тб╝твАтгата┤таКтвЙтбдтаЪтаБ
таАтаАтаАтаИта│тгДтаИтаЩтвжтбАтв╕тбАтаАтв░твгтбзта╖тгптгдтадтаЪтаЙ
таАтаАтаАтаАтаАтаИтаСтг▓тадтамта┐тазтгатвПтбЮ
таАтаАтаАтвАтб┤таЪтаЙтаЙтвЙтг│тгДтгатаПтбЮ
таАтгатг┤тгЯтгТтгЛтгЙтгЙтбнтаЯтвбтаПтб╝ 
"
)


ascii_selected=${ascii_art[RANDOM % ${#ascii_art[@]} + 1]}

echo $ascii_selected


configure_prompt() {

 PROMPT=$'%F{%(#.blue.green)}тФМтФАтФА('
#PROMPT+=$'{VIRTUAL_ENV:+$basename $VIRTUAL_ENV:t}'
PROMPT+=$'%B%F{%(#.red.blue)}%n'
#PROMPT+=$'%B%F{%(#.red.blue)}ghost'
PROMPT+=$'$prompt_symbol%m'
#PROMPT+=$'$prompt_symbol 65465462164654'
PROMPT+=$'%F{%(#.blue.green)})-'
PROMPT+=$'[%B%F{reset}%(6~.%-1~/тАж/%4~.%5~)%b%F{%(#.blue.green)}]'
PROMPT+=$'%F{%(#.green.magenta)}'
PROMPT+=$' $(git_branch_prompt)'
PROMPT+=$' $(git_files_prompt)'
#PROMPT+='${VIRTUAL_ENV:t}'
PROMPT+=$'${VIRTUAL_ENV:+  ${VIRTUAL_ENV:t} $python_symbol }'
PROMPT+=$'$(ascii_art) $(command_count_prompt) $(command_count_prompt2)'
PROMPT+=$'%F{%(#.magenta.green)}'
PROMPT+=$'\nтФФтФА%B%(#.%F{red}#.%F{blue}$)%b%F{reset} '
PROMPT+=$'$(last_status_prompt)'
unset prompt_symbol

}
# Variables prompt

if [ "$color_prompt" = yes ]; then
    VIRTUAL_ENV_DISABLE_PROMPT=1
    configure_prompt

    # Syntax highlighting (Arch)
    for hl in \
        /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh \
        /usr/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
    do
        [ -f "$hl" ] && source "$hl" && break
    done
fi


unset color_prompt force_color_prompt

# Equivalent Prompt command
precmd () {

    local cols=${COLUMNS:-$(tput cols)}
    print ""
    print -P "%F{magenta}${(l:$cols::тФА:)}%f"
    print ""
    
    python_symbol=${python_symbols[$((RANDOM % ${#python_symbols[@]} + 1))]}
    prompt_symbol=${prompt_symbols[$((RANDOM % ${#prompt_symbols[@]} + 1))]}
    (( ${#git_symbols[@]} )) && git_symbol=${git_symbols[$((RANDOM % ${#git_symbols[@]} + 1))]} || git_symbol='A'

    (( CMD_COUNT++))
}
